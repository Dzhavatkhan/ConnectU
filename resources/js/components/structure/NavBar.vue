<template>
    <nav class="p-3 bg-light-black">
        <div class="container m-auto">
            <div class="flex justify-between items-center">
                <div>
                    <svg width="50" viewBox="0 0 134 118" fill="none">
                        <g clip-path="url(#clip0_3_344)">
                            <path d="M84.6572 2.41492C99.6933 6.80149 117.786 19.0691 121.778 36.7688C124.959 50.8547 116.082 54.5254 117.13 72.4467C118.607 97.7888 137.516 110.278 133.021 116.267C128.141 122.767 107.947 105.249 74.4841 104.88C47.384 104.585 31.9007 115.756 25.73 108.164C19.0895 99.9935 35.5012 85.1973 28.8833 68.759C22.4862 52.8662 2.27011 54.622 0.413248 43.0362C-1.77197 29.3821 24.2128 14.1314 38.5865 8.07428C49.2465 3.58543 65.3752 -3.21035 84.6572 2.41492Z" fill="white" stroke="white" stroke-miterlimit="10"/>
                            <path d="M88.45 62.35C88.45 77.8 81.375 85.525 67.225 85.525C52.875 85.525 45.7 77.8 45.7 62.35V39.175C45.7 36.875 46.425 35.1 47.875 33.85C49.325 32.6 51.025 31.975 52.975 31.975C54.975 31.975 56.675 32.6 58.075 33.85C59.525 35.1 60.25 36.875 60.25 39.175V64.6C60.25 68.9 62.525 71.05 67.075 71.05C71.625 71.05 73.9 68.9 73.9 64.6V39.175C73.9 38.025 74.1 37 74.5 36.1C74.9 35.2 75.425 34.45 76.075 33.85C76.725 33.25 77.475 32.8 78.325 32.5C79.225 32.15 80.15 31.975 81.1 31.975C83.1 31.975 84.825 32.6 86.275 33.85C87.725 35.1 88.45 36.875 88.45 39.175V62.35Z" fill="#303031"/>
                            <path d="M95.6117 94.3545C99.0791 94.3545 101.89 91.5333 101.89 88.0531C101.89 84.5729 99.0791 81.7516 95.6117 81.7516C92.1444 81.7516 89.3335 84.5729 89.3335 88.0531C89.3335 91.5333 92.1444 94.3545 95.6117 94.3545Z" fill="#303031"/>
                            <path d="M108.372 102.679C111.023 102.679 113.173 100.521 113.173 97.8603C113.173 95.1992 111.023 93.0419 108.372 93.0419C105.721 93.0419 103.571 95.1992 103.571 97.8603C103.571 100.521 105.721 102.679 108.372 102.679Z" fill="#303031"/>
                            <path d="M119.055 109.372C120.896 109.372 122.389 107.874 122.389 106.026C122.389 104.177 120.896 102.679 119.055 102.679C117.213 102.679 115.72 104.177 115.72 106.026C115.72 107.874 117.213 109.372 119.055 109.372Z" fill="#303031"/>
                        </g>
                        <defs>
                            <clipPath id="clip0_3_344">
                                <rect width="134" height="118" fill="white"/>
                            </clipPath>
                        </defs>
                    </svg>
                </div>

                <div class="flex ">
                    <div class="w-[72px] leading-5 text-white">С Новым годом!</div>
                    <img src="../../../../public/icons/free-icon-christmas-tree-2276457.png" alt="" class="w-10">
                </div>

                <div class="flex items-center gap-5">
                    <div @click="toggleModal(1)">
                        <svg width="30" viewBox="0 0 30 30" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M21.6667 21.6667L27 27M3 13.6667C3 16.4956 4.12381 19.2088 6.12419 21.2091C8.12458 23.2095 10.8377 24.3333 13.6667 24.3333C16.4956 24.3333 19.2088 23.2095 21.2091 21.2091C23.2095 19.2088 24.3333 16.4956 24.3333 13.6667C24.3333 10.8377 23.2095 8.12458 21.2091 6.12419C19.2088 4.12381 16.4956 3 13.6667 3C10.8377 3 8.12458 4.12381 6.12419 6.12419C4.12381 8.12458 3 10.8377 3 13.6667Z" stroke="#fff" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                    </div>

                    <div @click="modals[1].visible ? toggleModal(2, true) : toggleModal(2)" class="py-[6px] px-2 bg-white rounded-md">
                        <svg width="24" viewBox="0 0 33 42" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M16.4999 18.6999C21.6637 18.6999 25.8498 14.5138 25.8498 9.34996C25.8498 4.18612 21.6637 0 16.4999 0C11.336 0 7.1499 4.18612 7.1499 9.34996C7.1499 14.5138 11.336 18.6999 16.4999 18.6999Z" fill="#373737"/>
                            <path d="M16.5 20.9C7.38732 20.9 0 28.2874 0 37.3999C0 39.83 1.96999 41.7999 4.40002 41.7999H28.6C31.03 41.7999 33 39.83 33 37.3999C32.9999 28.2874 25.6126 20.9 16.5 20.9Z" fill="#373737"/>
                        </svg>
                    </div>
                </div>
            </div>
        </div>

        <SearchModal v-if="modals[0].visible" @closeModal="toggleModal(1, true)" />
        <UserModal v-if="modals[1].visible" />
        <Cover v-if="idOpenModal" />
    </nav>

    <nav class="fixed bottom-0 inset-x-0 bg-grey">
        <div class="container m-auto">
            <div class="flex justify-between text-white text-sm">
                <div class="flex flex-col justify-between gap-1 p-2 bg-white text-center">
                    <svg width="24" viewBox="0 0 32 32" fill="none" class="m-auto">
                        <path d="M23.5 4.75H29.125C29.6223 4.75 30.0992 4.94754 30.4508 5.29918C30.8025 5.65081 31 6.12772 31 6.625V27.25C31 28.2446 30.6049 29.1984 29.9016 29.9016C29.1984 30.6049 28.2446 31 27.25 31M27.25 31C26.2554 31 25.3016 30.6049 24.5984 29.9016C23.8951 29.1984 23.5 28.2446 23.5 27.25V2.875C23.5 2.37772 23.3025 1.90081 22.9508 1.54918C22.5992 1.19754 22.1223 1 21.625 1H2.875C2.37772 1 1.90081 1.19754 1.54918 1.54918C1.19754 1.90081 1 2.37772 1 2.875V25.375C1 26.8668 1.59263 28.2976 2.64752 29.3525C3.70242 30.4074 5.13316 31 6.625 31H27.25ZM8.5 8.5H16M8.5 16H16M8.5 23.5H16" stroke="#373737" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>

                    <div class="text-light-black">   
                        Новости
                    </div>
                </div>

                <div class="flex flex-col justify-between gap-1 p-2 text-center">
                    <svg width="30" viewBox="0 0 31 19" fill="none" xmlns="http://www.w3.org/2000/svg" class="m-auto">
                        <path d="M8.26667 0C4.85667 0 2.06667 2.85 2.06667 6.33333C2.06667 8.42756 3.07623 10.2917 4.61797 11.4464C1.89307 12.8271 0 15.6898 0 19H2.06667C2.06667 15.4913 4.83187 12.6667 8.26667 12.6667C11.7015 12.6667 14.4667 15.4913 14.4667 19H16.5333C16.5333 15.4913 19.2985 12.6667 22.7333 12.6667C26.1681 12.6667 28.9333 15.4913 28.9333 19H31C31 15.6887 29.1069 12.8271 26.382 11.4464C27.171 10.8592 27.8132 10.0901 28.2565 9.20168C28.6998 8.31324 28.9317 7.33052 28.9333 6.33333C28.9333 2.85 26.1433 0 22.7333 0C19.3233 0 16.5333 2.85 16.5333 6.33333C16.5333 8.42756 17.5429 10.2917 19.0846 11.4464C17.5749 12.2047 16.3252 13.4121 15.5 14.9097C14.6748 13.4121 13.4251 12.2047 11.9154 11.4464C12.7043 10.8592 13.3465 10.0901 13.7898 9.20168C14.2331 8.31324 14.465 7.33052 14.4667 6.33333C14.4667 2.85 11.6767 0 8.26667 0ZM8.26667 2.11111C10.5638 2.11111 12.4 3.98683 12.4 6.33333C12.4 8.67983 10.5638 10.5556 8.26667 10.5556C5.96957 10.5556 4.13333 8.67983 4.13333 6.33333C4.13333 3.98683 5.96957 2.11111 8.26667 2.11111ZM22.7333 2.11111C25.0304 2.11111 26.8667 3.98683 26.8667 6.33333C26.8667 8.67983 25.0304 10.5556 22.7333 10.5556C20.4362 10.5556 18.6 8.67983 18.6 6.33333C18.6 3.98683 20.4362 2.11111 22.7333 2.11111Z" fill="white"/>
                    </svg>

                    <div class="">   
                        Друзья
                    </div>
                </div>

                <div class="flex flex-col justify-between gap-1 p-2 text-center">
                    <svg width="24" viewBox="0 0 30 30" fill="none" class="m-auto">
                        <path d="M10.0006 12.4971C10.0006 12.1656 10.1323 11.8476 10.3667 11.6132C10.6011 11.3788 10.919 11.2471 11.2505 11.2471H18.7503C19.0818 11.2471 19.3998 11.3788 19.6342 11.6132C19.8686 11.8476 20.0003 12.1656 20.0003 12.4971C20.0003 12.8286 19.8686 13.1466 19.6342 13.381C19.3998 13.6154 19.0818 13.7471 18.7503 13.7471H11.2505C10.919 13.7471 10.6011 13.6154 10.3667 13.381C10.1323 13.1466 10.0006 12.8286 10.0006 12.4971ZM11.2505 16.2471C10.919 16.2471 10.6011 16.3788 10.3667 16.6132C10.1323 16.8476 10.0006 17.1656 10.0006 17.4971C10.0006 17.8286 10.1323 18.1466 10.3667 18.381C10.6011 18.6154 10.919 18.7471 11.2505 18.7471H16.2504C16.5819 18.7471 16.8998 18.6154 17.1342 18.381C17.3687 18.1466 17.5003 17.8286 17.5003 17.4971C17.5003 17.1656 17.3687 16.8476 17.1342 16.6132C16.8998 16.3788 16.5819 16.2471 16.2504 16.2471H11.2505ZM0.000863139 14.9971C0.00150101 11.6947 1.09189 8.48484 3.10289 5.86542C5.11389 3.246 7.93309 1.36345 11.1231 0.509809C14.3132 -0.343834 17.6958 -0.120852 20.7462 1.14416C23.7966 2.40918 26.3443 4.64551 27.994 7.50626C29.6438 10.367 30.3034 13.6922 29.8706 16.9661C29.4377 20.24 27.9366 23.2795 25.6001 25.6132C23.2635 27.9469 20.2222 29.4443 16.9479 29.873C13.6735 30.3018 10.3492 29.638 7.49064 27.9846L1.64581 29.9346C1.42988 30.0067 1.19835 30.0184 0.97622 29.9686C0.754091 29.9187 0.549796 29.8091 0.385383 29.6517C0.22097 29.4942 0.102684 29.2948 0.0432897 29.075C-0.0161045 28.8553 -0.0143507 28.6234 0.0483619 28.4046L1.82831 22.1771C0.625885 19.9752 -0.00259464 17.5059 0.000863139 14.9971ZM15.0004 2.49711C12.7934 2.49697 10.6258 3.08118 8.71774 4.19037C6.80972 5.29955 5.22938 6.89416 4.13737 8.8121C3.04535 10.73 2.4806 12.9029 2.50051 15.1099C2.52042 17.3168 3.12429 19.4792 4.25074 21.3771C4.33741 21.5237 4.3932 21.6865 4.41469 21.8554C4.43619 22.0244 4.42293 22.1959 4.37573 22.3596L3.10327 26.8096L7.24815 25.4296C7.42418 25.3708 7.61108 25.352 7.79529 25.3745C7.9795 25.397 8.15639 25.4602 8.31312 25.5596C9.95124 26.5963 11.8081 27.2378 13.7368 27.4333C15.6655 27.6289 17.6133 27.3731 19.4261 26.6862C21.239 25.9994 22.8672 24.9002 24.1822 23.4757C25.4971 22.0512 26.4627 20.3403 27.0026 18.4783C27.5425 16.6164 27.6419 14.6544 27.293 12.7473C26.9441 10.8403 26.1564 9.04062 24.9922 7.49046C23.828 5.9403 22.3192 4.68219 20.5851 3.81556C18.851 2.94894 16.939 2.49756 15.0004 2.49711Z" fill="white"/>
                    </svg>

                    <div class="">   
                        Мессенджер
                    </div>
                </div>
            </div>
        </div>
    </nav>
</template>

<script setup>
import { ref } from 'vue'
import Cover from '../reusable/Cover.vue'
import SearchModal from '../modals/SearchModal.vue';
import UserModal from '../modals/UserModal.vue';

let idOpenModal = ref(0);

let modals = ref([
    {
        id: 1,
        name: 'search',
        visible: false
    },
    {
        id: 2,
        name: 'user',
        visible: false
    }
])

function toggleModal(id, isClose) {
    if (!isClose) {
        if (idOpenModal.value) {
            modals.value[idOpenModal.value - 1].visible = false
        }

        modals.value[id - 1].visible = true
        idOpenModal.value = id
    } else {
        modals.value[id - 1].visible = false
        idOpenModal.value = 0
    }
}

</script>
